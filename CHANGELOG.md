# 📋 Changelog

모든 주요 변경 사항을 이 파일에 기록합니다.

---

## v.1.1.7 (2026-02-26)

### ✨ 새로운 기능 및 UI 개선
- **설정 창(Settings) UI 전면 개편**
  - 설정 창 크기 조절 자유롭게 허용 (Resizable)
  - 내용이 많아져도 짤리지 않도록 스크롤바(Scrollbar) 도입
  - 기본 버튼("저장", "닫기")을 하단에 고정하여 UI 접근성 향상
  - 마우스 휠 스크롤 완벽 지원
- **사용자 맞춤 설정 창 크기 기억**
  - 사용자가 마지막으로 조절한 설정 창의 너비와 높이를 `settings.json`에 저장
  - 다음 설정 창을 열 때 이전과 동일한 크기로 복원

### 🛠️ 기술적 개선 및 버그 수정
- **세미나 정보 표시 오류 수정 (스레드 충돌 및 날짜 형식)**
  - 오늘의 세미나 목록이 비어보이는 현상 수정
  - M/D 형식(예: `2/26`) 우선 매칭 및 `M.D` 정규화 로직 적용으로 날짜 필터링 안정화
  - 백그라운드 스레드에서 값을 가져올 때 `threading.main_thread()` 판별을 통해 GUI 업데이트를 메인 스레드에 안전하게 이임하도록 구조 개선 (동결 현상 방지)
- **시간 설정 입력 오류 수정 (Spinbox Octal Issue)**
  - 시/분 설정 시 "09"와 같이 앞에 0이 붙은 숫자를 입력할 때 발생하던 '잘못된 8진수' 오류 해결
  - 내부 변수를 `IntVar`에서 `StringVar`로 변경하고 10진수 기반의 안전한 변환 로직 적용
- **설정 항목 설명 명확화**
  - "자동 신청", "자동 입장", "자동 설문" 기능이 "세미나 새로고침 주기"에 종속적이라는 점을 설명 텍스트에 직관적으로 명시

### 📝 수정된 파일
- `main_GUI.pyw`
- `settings.json`

---

## v.1.1.6 (2026-02-26)

### ✨ 새로운 기능
- **크롬 창 숨기기 (Headless) 설정 추가**
  - 설정 창에 '🌐 브라우저 설정' 섹션 신설
  - '🛡️ 크롬 창 숨기기 (백그라운드 실행)' 체크박스 추가
  - 체크 시 브라우저 창 없이 백그라운드에서 자동화 수행
- **브라우저 설정 즉시 적용 (자동 재시작)**
  - 설정 변경 후 '저장' 클릭 시 브라우저 재시작 여부 확인 팝업
  - '예' 클릭 시 기존 브라우저를 종료하고 새 설정으로 자동 로그인 재실행
- **설정 UI 편의성 개선**
  - 설정 저장 후 설정 창이 자동으로 닫히도록 개선
  - 설정 창 높이 조정 (600 -> 850) 및 수직 패딩 최적화로 버튼 시인성 확보
  - 설정 안내 문구에 브라우저 재시작 관련 내용 보강
- **헤드리스 모드용 퀴즈 스크린샷 기능**
  - 창 숨기기 모드 중 모르는 퀴즈가 나오면 즉시 해당 문제 위치를 캡처하여 팝업
  - 브라우저를 보지 않고도 사진을 확인하며 정답 등록 가능
  - 설문 종료 후 임시 스크린샷 자동 삭제 (폴더 정리)

### 🛠️ 기술적 개선
- **설문 자동화 모듈 안정성 강화**
  - **중복 실행 방지**: Lock 메커니즘을 도입하여 동일 계정에서 설문 모듈이 중복 실행되어 브라우저 세션이 엉키는 문제 해결
  - **세션 실시간 검증**: 퀴즈 처리 및 정답 대기 루프 도중 브라우저 종료 여부를 실시간으로 체크하여 불필요한 에러 로그(Connection Error) 방지
  - **자원 정리 최적화**: 예외 발생 시에도 실행 플래그를 정상적으로 해제하여 다음 작업에 지장이 없도록 보완
- **WebAutomation 로직 강화**
  - `web_automation.py` 초기화 시 `settings.json`을 읽어 헤드리스 모드 자동 적용
  - `json` 모듈 누락 수정 및 닥스트링 문법 오류 해결

### 📝 수정된 파일
- `main_GUI.pyw`
- `web_automation.py`
- `settings.json`
- `PROJECT_STRUCTURE.md`

---

## v.1.1.5 (2026-02-26)

### ✨ 새로운 기능
- **세미나 새로고침 간격 설정**
  - 설정 창에서 세미나 새로고침 주기를 1~60초 범위로 조절 가능 (기본값: 5초)
- **자동 세미나 입장 기능**
  - 입장 가능한 세미나에 시작시간 + N분 후 자동 입장
  - 입장 대기시간(분)을 설정에서 조절 가능 (기본값: 5분, 0~30분)
  - 이미 입장한 세미나 중복 방지 (`_entered_seminars` set 추적)
  - Selenium 충돌 방지를 위해 한 번에 하나씩 순차 입장
- **자동 설문참여 동작 변경**
  - 기존: 프로그램 시작 시 1회 실행
  - 변경: 세미나 새로고침 중 강의가 리스트에서 사라지면(종료 감지) 자동 설문참여 실행
  - 이전/현재 세미나 목록 비교로 종료된 강의 감지
- **설문참여 탭 정리 및 포인트 확인 순서 개선**
  - 설문 완료 후 열려있는 나머지 창(세미나 팝업, 설문 사이트 등) 자동 닫기
  - 모든 창 정리 후 메인 창에서 포인트 확인 로직이 실행되도록 순서 보정

### 📝 문서 및 워크플로우 업데이트
- **PROJECT_STRUCTURE.md 최신화**
  - 배달의민족 쿠폰 자동 구매 모듈(`baemin_module.py`) 설명 추가
  - 최신 코드 기준 파일별 라인수 및 GUI 주요 기능 업데이트
- **CHANGELOG-PROJECT_STRUCTURE 동기화 정책 수립**
  - `CHANGELOG.md` 업데이트 시 `PROJECT_STRUCTURE.md`를 함께 확인하는 워크플로우 추가

### 📝 수정된 파일
- `main_GUI.pyw`
- `settings.json`
- `PROJECT_STRUCTURE.md`
- `.agent/workflows/update-changelog.md`

---

## v.1.1.4 (2026-02-25)

### ✨ 새로운 기능
- **설문참여 문제 풀이 고도화**
  - 답변이 없는 `[퀴즈]` 객관식을 만나면 설문 문제 등록창 자동 팝업
  - 문제 내용과 과목(카테고리) 자동 복사
  - 등록 후 자동으로 설문 화면으로 복귀
- **주관식 답변 일괄 통일**
  - 모든 짧은 글, 긴 글 형식 주관식 답변에 "없습니다." 로 기본값 통일
  - 누락된 답변 재시도 로직에도 "없습니다." 적용 완료
- **설문참여 중 세미나 새로고침 자동 멈춤**
  - 설문 중 세미나 갱신으로 인한 브라우저 간섭 차단

### 📝 수정/추가된 파일
- `main_GUI.pyw`
- `modules/survey_module.py`
- `modules/survey_problem.py`

---

## v.1.1.3 (2026-02-24)

### ✨ 새로운 기능
- **오늘의 세미나 자동 새로고침 (5초 간격)**
  - 로그인 후 세미나 트리뷰가 5초마다 자동 갱신
  - 다른 작업 실행 중에는 충돌 방지를 위해 자동 건너뛰기
  - 프로그램 종료 시 타이머 안전 정리

- **자동 세미나 신청 기능**
  - 신청가능 세미나를 5초마다 자동으로 신청 (창 없이 백그라운드)
  - 설정에서 켜고 끌 수 있음 (기본값: 꺼짐)

- **세미나 새로고침 멈춤/재개 버튼**
  - 오늘의 세미나 옆에 ⏸ 멈춤 / ▶ 재개 토글 버튼 추가

- **배달의민족 쿠폰 자동 구매 모듈**
  - 🛵 배달의민족 버튼 추가 (설문문제와 프로그램 종료 사이)
  - 포인트 자동 조회 → 최대 구매 가능 수량 계산 (9,700P/개)
  - 마이페이지에서 휴대폰 번호 자동 추출 (대시 제거)
  - 구매 수량 선택 + 받는 사람 번호 입력 다이얼로그
  - 빌마켓 이동 → 쿠폰 주문 페이지 자동 네비게이션 (속도 최적화)
  - 연락처 자동 입력 (수량만큼 줄바꿈) → 입력완료 → 다음 클릭
  - 결제 페이지: 포인트 자동 입력/적용 + 동의 체크박스 자동 체크
  - 구매 중 세미나 새로고침 자동 멈춤 + 멈춤 버튼 UI 동기화

### 📝 수정/추가된 파일
- `main_GUI.pyw`
- `modules/seminar_module.py`
- `modules/baemin_module.py` (NEW)

---

## v.1.1.2

1. MD 파일 추가
2. survey_quizzes 업데이트
   - 제미다파, 펙수클루 추가
3. 크롬드라이버 없으면 자동으로 다운받도록 수정
